{% extends "base.html" %}

{% block title %}Supply Chain Data View{% endblock %}

{% block content %}
<div class="container-fluid d-flex flex-column">
  <div class="row bg-white shadow-sm p-2">
    <div class="col d-flex justify-content-between align-items-center">
      <h5 class="mb-0">Supply Chain Data View editor</h5>
      <div>
        <button class="btn btn-secondary btn-m" onclick="resetDiagram()">
          <i class="bi bi-arrow-counterclockwise"></i> Reset
        </button>

        <button class="btn btn-success btn-m" onclick="saveDiagram()">
          <i class="bi bi-floppy"></i> Save
        </button>
      </div>
    </div>
  </div>

  <div class="row flex-grow-1">
    <aside class="col-2 bg-white shadow-sm p-3">
      <ul class="nav flex-column">
        <li class="nav-item dropdown">
          <a class="nav-link dropdown-toggle fw-bold" href="#" data-bs-toggle="collapse" data-bs-target="#atomicMenu">Atomic</a>
          <ul id="atomicMenu" class="collapse show">
            <li><a class="dropdown-item menu-item active" href="#" onclick="setActive(this)">CreateSalesOrder</a></li>
          </ul>
        </li>
      </ul>
    </aside>

    <main class="col-10 p-3">
      <div id="canvas"></div>
    </main>
  </div>

  <footer class="bg-white shadow-sm p-3">
    <h5 class="fw-bold">Details</h5>
    <div class="details-section mt-3">
      <h6>Input</h6>
      <ul id="input-list"></ul>

      <h6>Output</h6>
      <ul id="output-list"></ul>

      <!-- Dettagli extra vengono aggiunti dinamicamente da JS -->
      <div id="extra-details" class="mt-3"></div>
    </div>
  </footer>
</div>

{% include "partials/modal_atomic_service.html" %}
{% include "partials/modal_cppn_cpps_services.html" %}
{% endblock %}
